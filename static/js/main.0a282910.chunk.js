(this.webpackJsonpinstagram=this.webpackJsonpinstagram||[]).push([[0],{43:function(e,a,t){e.exports=t(65)},48:function(e,a,t){},49:function(e,a,t){},50:function(e,a,t){},65:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(12),o=t.n(c),l=(t(48),t(13)),s=(t(49),t(50),t(92));var i=function(e){var a=e.username,t=e.caption,n=e.imageUrl;return r.a.createElement("div",{className:"post"},r.a.createElement("div",{className:"post__header"},r.a.createElement(s.a,{className:"post__avatar",alt:"vinayparmar",src:"/"}),r.a.createElement("h3",null,a)),r.a.createElement("img",{className:"post__image",alt:"",src:n}),r.a.createElement("h4",{className:"post__text"},r.a.createElement("strong",null,a)," ",t))},u=t(22),m=t.n(u),p=m.a.initializeApp({apiKey:"AIzaSyCCnqvaW-UmazylDzGK5-ncvuhURVrokWg",authDomain:"instagram-cbbc8.firebaseapp.com",databaseURL:"https://instagram-cbbc8.firebaseio.com",projectId:"instagram-cbbc8",storageBucket:"instagram-cbbc8.appspot.com",messagingSenderId:"873304111428",appId:"1:873304111428:web:16666bfcf530a94a6dbf11",measurementId:"G-HG59MVSB9M"}).firestore(),g=m.a.auth(),d=m.a.storage(),f=t(88),h=t(89),v=t(91),E=t(90);var b=function(e){var a=e.username,t=Object(n.useState)(null),c=Object(l.a)(t,2),o=c[0],s=c[1],i=Object(n.useState)(0),u=Object(l.a)(i,2),g=u[0],f=u[1],h=Object(n.useState)(""),v=Object(l.a)(h,2),b=v[0],_=v[1];return r.a.createElement("div",null,r.a.createElement("progress",{value:g,max:"100"}),r.a.createElement("input",{type:"text",placeholder:"Enter a caption...",onChange:function(e){return _(e.target.value)},value:b}),r.a.createElement("input",{type:"file",onChange:function(e){e.target.files[0]&&s(e.target.files[0])}}),r.a.createElement(E.a,{onClick:function(){var e=d.ref("images/".concat(o.name)).put(o);console.log(e),e.on("state_changed",(function(e){var a=Math.round(e.bytesTransferred/e.totalBytes*100);f(a)}),(function(e){console.log(e),alert(e.message)}),(function(){d.ref("images").child(o.name).getDownloadURL().then((function(e){p.collection("posts").add({timestamp:m.a.firestore.FieldValue.serverTimestamp(),caption:b,imageUrl:e,username:a}),f(0),_(""),s(null)}))}))}},"Upload"))};function _(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var w=Object(f.a)((function(e){return{paper:{position:"absolute",width:"270",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var y=function(){var e=w(),a=r.a.useState(_),t=Object(l.a)(a,1)[0],n=r.a.useState([]),c=Object(l.a)(n,2),o=c[0],s=c[1],u=r.a.useState(!1),m=Object(l.a)(u,2),d=m[0],f=m[1],y=r.a.useState(""),S=Object(l.a)(y,2),C=S[0],N=S[1],j=r.a.useState(""),O=Object(l.a)(j,2),k=O[0],I=O[1],U=r.a.useState(""),x=Object(l.a)(U,2),W=x[0],A=x[1],B=r.a.useState(""),D=Object(l.a)(B,2),z=D[0],L=D[1],M=r.a.useState(null),G=Object(l.a)(M,2),P=G[0],R=G[1];return r.a.useEffect((function(){var e=g.onAuthStateChanged((function(e){e?(console.log(e),R(e)):R(null)}));return function(){e()}}),[P,k]),r.a.useEffect((function(){p.collection("posts").onSnapshot((function(e){s(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),r.a.createElement("div",{className:"app"},(null===P||void 0===P?void 0:P.displayName)?r.a.createElement(b,{username:P.displayName}):r.a.createElement("h3",null,"Sorry you need to Login to upload"),r.a.createElement(h.a,{open:d,onClose:function(){return f(!1)}},r.a.createElement("div",{style:t,className:e.paper},r.a.createElement("form",{className:"app__signup"},r.a.createElement("center",null,r.a.createElement("img",{className:"app__headerImage",src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:""}),r.a.createElement(v.a,{placeholder:"username",type:"type",value:k,onChange:function(e){return I(e.target.value)}}),r.a.createElement(v.a,{placeholder:"email",type:"type",value:z,onChange:function(e){return L(e.target.value)}}),r.a.createElement(v.a,{placeholder:"password",type:"password",value:W,onChange:function(e){return A(e.target.value)}}),r.a.createElement(E.a,{className:"log__button",type:"submit",onClick:function(e){e.preventDefault(),g.createUserWithEmailAndPassword(z,W).then((function(e){return e.user.updateProfile({displayName:k})})).catch((function(e){return alert(e.message)})),f(!1)}},"Sign Up"))))),r.a.createElement(h.a,{open:C,onClose:function(){return N(!1)}},r.a.createElement("div",{style:t,className:e.paper},r.a.createElement("form",{className:"app__signup"},r.a.createElement("center",null,r.a.createElement("img",{className:"app__headerImage",src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:""}),r.a.createElement(v.a,{placeholder:"email",type:"type",value:z,onChange:function(e){return L(e.target.value)}}),r.a.createElement(v.a,{placeholder:"password",type:"password",value:W,onChange:function(e){return A(e.target.value)}}),r.a.createElement(E.a,{className:"log__button",type:"submit",onClick:function(e){e.preventDefault(),g.signInWithEmailAndPassword(z,W).catch((function(e){return alert(e.message)})),N(!1)}},"Sign In"))))),r.a.createElement("div",{className:"app__header"},r.a.createElement("img",{className:"app__headerImage",src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:""})),P?r.a.createElement(E.a,{onClick:function(){return g.signOut()}},"Logout"):r.a.createElement("div",{className:"app__loginContainer"},r.a.createElement(E.a,{onClick:function(){return N(!0)}},"Sign In"),r.a.createElement(E.a,{onClick:function(){return f(!0)}},"Sign Up")),r.a.createElement("h1",null,"Hello"),o.map((function(e){var a=e.id,t=e.post;return r.a.createElement(i,{key:a,username:t.username,caption:t.caption,imageUrl:t.imageUrl})})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.0a282910.chunk.js.map